<!DOCTYPE html>
<html lang="fr" xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Filter
    </title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@300&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link rel="stylesheet" href="/css/style.css">
</head>
<body class="user-management-body">
<header th:replace="nav.html :: nav-bar"></header>
<div class="block-filter">
    <form action="/filter" method="post" th:object="${activityLeader}">
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
        <div id="leader" class="row">
            <div class="col s12 m6 offset-l3">
                <div class="card white" id="card-white">
                    <div class="card-action black-text" id="card-action">
                        <h4 class="center-align">Recherches</h4>
                    </div>
                    <div class="card-content">
                        <div class="form-field col s6">
                            <input th:field="*{firstName}" id="firstname"type="text" class="validate" placeholder="Prénom">
                        </div>
                        <div class="form-field col s6">
                            <input th:field="*{lastName}" id="last_name" type="text" class="validate" placeholder="Nom">
                        </div>
                        <div class="form-field col s6">
                            <input th:field="*{birthdate}" id="birthdate" type="date" placeholder="Date de Naissance">
                        </div>
                        <div class="form-field">
                            <input th:field="*{email}" id="email" type="email" class="validate" placeholder="Email">
                        </div>
                        <div class="form-field col s6">
                            <input th:field="*{phone}"id="phone" type="tel" class="validate" placeholder="Téléphone"></div>
                        <div class="form-field">
                            <input th:field="*{location.address1}" type="text" class="validate" placeholder="Adresse 1">
                        </div>
                        <div class="form-field col s6">
                            <input th:field="*{location.address2}"type="text" class="validate" placeholder="Adresse 2">
                        </div>
                        <div class="form-field col s6">
                            <input th:field="*{location.postcode}" type="text" class="validate" placeholder="Code postal">
                        </div>
                        <div class="form-field col s6">
                            <input th:field="*{location.city}" type="text" class="validate" placeholder="Ville">
                        </div>
                        <div class="form-field">
                            <input id="vehicule" type="checkbox">
                            <label for="vehicule">Véhiculé</label>
                        </div>
                        <div class="form-field col s6">
                            <select multiple>
                                <option value="" disabled selected>Diplômes</option>
                                <option value="1">BAFA</option>
                                <option value="2">CAP petite enfance</option>
                                <option value="3">BAFD</option>
                                <option value="4">CQP Animateur Périscolaire</option>
                                <option value="5">BPJEPS</option>
                                <option value="6">DEJEPS</option>
                            </select>
                        </div>
                        <div class="form-field col s6">
                            <input th:field="*{experience}"  id="xp" type="number" placeholder="Années d'expériences">
                        </div>
                        <div class="form-field">
                            <label for="unavailability" title="Clique-ici">Indisponibilités</label>
                            <input th:field="*{availability}" id="unavailability" type="date" class="datepicker" name="unavailability">
                        </div>
                        <div class="form-field">
                            <label for="skill" type="text"  class="validate">Compétences</label>
                            <input th:field="*{skillList}" id="skill" type="text" autocomplete="off" class="validate">
                        </div>
                        <div class="form-field">
                            <label for="startdate1" title="Clique-ici">Date de début de contrat</label>
                            <input th:field="*{startDate}" id="startdate1" type="date" class="datepicker" value="05/03/2019">
                        </div>
                        <div class="form-field">
                            <label for="endDate1" title="Clique-ici">Date de fin de contrat</label>
                            <input th:field="*{endDate}" id="endDate1" type="date" class="datepicker" value="05/03/2019">
                        </div>
                        <div class="form-field">
                            <select multiple>
                                <option value="" disabled selected>Public concerné</option>
                                <option value="1">3/6 ans</option>
                                <option value="2">6/8 ans</option>
                                <option value="3">9/12 ans</option>
                                <option value="4">12/15 ans</option>
                                <option value="5">16/18 ans</option>
                                <option value="6">18/25 ans</option>
                                <option value="7">25/35 ans</option>
                                <option value="8">35/50 ans</option>
                                <option value="9">65/+77 ans</option>
                            </select>
<!--
                            TODO: replace by datas from the database
-->
                        </div>
                        <div class="form-field">
                            <select multiple>
                                <option value="" disabled selected>Valeurs</option>
                                <option value="1">Bienveillance</option>
                                <option value="2">Optimisme</option>
                                <option value="3">Proximité</option>
                                <option value="4">Responsabilité</option>
                                <option value="5">Détermination</option>
                            </select>
                            <!--
                            TODO: replace by datas from the database
-->
                            <input id="other" type="text" class="validate" placeholder="Autres valeurs">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="center-align">
            <button  class = "btn waves-effect waves-light" type = "submit" id="search-button">Rechercher
                <i class = "material-icons right"></i></button>
        </div>
    </form>
    <div class="selectemail" th:if="${activityleaders != null && activityleaders.size() != 0}">
        <span class="elementselect" style="font-size: 1.2em;">1 élément sélectionné</span>
        <a href="#terms" class="btn waves-effect waves-light modal-trigger">Envoyer un email<i class="material-icons right">send</i></a>
        <div class="modal" id="terms">
            <div class="modal-content">
                <h4>Envoie ton message</h4>
                <div>
                    <textarea th:field="${activityLeader.comment}" id="comment" name="comment" placeholder="Commentaires"></textarea>
                </div>
                <button class="btn waves-effect waves-light right" type="submit" name="action">Valider
                    <i class="material-icons right">send</i>
                </button>
            </div>
        </div>
    </div>
            </div>
        </div>
        <div class="col s12 m6 offset-l3">
            <div class="card horizontal" th:each="activityleader : ${activityleaders}">
                <div class="card-content">
                    <div class="content">
                        <div class="title-check">
                            <h5 th:text="|${activityleader.firstName} ${activityleader.lastName}|">Nom</h5>
                            <p>
                                <input type="checkbox" class="filled-in" id="filled-in-box" checked="checked"/>
                                <label for="filled-in-box">
                                </label>
                            </p>
                        </div>
                        <div class="phone-email-address">
                            <p><i class="tiny material-icons">phone</i><span th:text="|${activityleader.getPhone() == null || activityleader.getPhone().isEmpty() ? 'Non renseigné' : activityleader.getPhone()}|"></span></p>
                            <p><i class="tiny material-icons">email</i><span th:text="|${activityleader.getEmail() == null || activityleader.getEmail().isEmpty() ? 'Non renseigné' : activityleader.getEmail()}|"></span></p>
                            <p><i class="tiny material-icons">home</i><span th:text="|${activityleader.location.getAddress1() == null || activityleader.location.getAddress1().isEmpty() ? 'Non renseigné' : activityleader.location.getAddress1()}|"></span><span th:text="|${activityleader.location.getPostcode() == null ? ' ' : activityleader.location.getPostcode()}|">Code postal</span> <span th:text="|${activityleader.location.getCity() == null ? ' ' : activityleader.location.getCity()}|">Ville</span></p>
                            <p><i class="tiny material-icons">directions_car</i>Véhiculé</p>
                        </div>
                        <br>
                        <p>Age: <span th:text="|${activityleader.getAge() == 0 ? 'Non renseigné' : activityleader.getAge()}|"></span></p>
                        <p>EXP: <span th:text="|${activityleader.getExperience() == 0 ? 'Non renseigné' : activityleader.getExperience()}|"></span></p>
                        <br>
                        <p class="collections-title">Diplômes</p>
                        <div class="chip" th:each="diploma : ${activityleader.diplomas}" th:text="${diploma.getName()}">
                            BAFA
                        </div>
                        <div class="chip" th:if="${activityleader.diplomas.size() == 0}">
                            Non renseigné
                        </div>
                    </div>
                    <p class="collections-title">Publics concernés</p>
                    <div class="chip" th:each="audience : ${activityleader.audiences}" th:text="${audience.getAgeBracket()}">
                        3/6ans
                    </div>
                    <div class="chip" th:if="${activityleader.audiences.size() == 0}">
                        Non renseigné
                    </div>
                    <br>
                    <br>
                    <button class="btn waves-effect waves-light" type="submit" name="action" id="fiche"><a style="color: white" th:href="@{'/activity-leader-showcard/' + ${activityleader.getId()}}">Voir la fiche</a></button>
                </div>
            </div>
        </div>
    </div>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
        <script>
            $(document).ready(function(){
                $('.modal').modal();
            });
            $(document).ready(function () {
                $('select').formSelect();
            });
            $(document).ready(function () {
                $('.datepicker').datepicker({
                    firstDay: true,
                    format: 'yyyy-mm-dd',
                    i18n: {
                        months: ['Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin', 'Juillet', 'Août', 'Septembre', 'Octobre', 'Novembre', 'Décembre'],
                        monthsShort: ["Janv", "Fév", "Mar", "Avr", "Mai", "Juin", "Juil", "Aoû", "Sep", "Oct", "Nov", "Dec"],
                        weekdays: ["Dimanche","Lundi", "Mardi", "Mercredi", "Jeudi", "Vendredi", "Samedi"],
                        weekdaysShort: ['Dim', 'Lun', 'Mar', 'Mer', 'Jeu', 'Ven', 'Sam'],
                        weekdaysAbbrev: ["D", "L", "M", "M", "J", "V", "S"],
                        cancel:'Annuler'
                    }
                });
            });
            $(document).ready(function(){
                $('.modal-trigger').leanModal();
            });
        </script>
</body>
</html>